spring:
  application:
    name: mmh-all
  main:
    web-application-type: none
    banner-mode: off
  ai:
    mcp:
      server:
        name: ${spring.application.name}
        version: 1.0.0
        type: SYNC
        stdio: true
        capabilities:
          tools: true
          resource: true
          prompt: true
          completion: true

logging:
  level:
    root: info

mmh:
  http:
    proxy:
      # HTTP proxy (env: http_proxy)
      http-proxy: ${http_proxy:}
      # HTTPS proxy (env: https_proxy)
      https-proxy: ${https_proxy:}
  search:
    searxng:
      # SearXNG base url
      base-url: ${SEARXNG_API_URL:}
      # Request timeout in ms
      timeout-ms: 10000
      # Request method: GET/POST
      method: POST
  browser:
    # Shared browser snapshot root
    snapshot-root: ${MMH_BROWSER_SNAPSHOT_ROOT:${user.home}/.my-mcp-hub/browser-snapshots}
    # Browser channel, e.g. chrome, msedge
    browser-channel: ""
    # Browser executable path
    executable-path: ""
    # Extra launch args for browser
    launch-args: []
    # Ignore default args for browser launch
    ignore-default-args:
      - "--enable-automation"
    # Ignore all default args for browser launch
    ignore-all-default-args: false
    # Enable stealth script
    stealth-enabled: true
    # Custom stealth script (empty uses default)
    stealth-script: ""
    # Fixed user agent for browser context
    user-agent: ""
    # User agent pool for random rotation
    user-agents:
      - "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
      - "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
      - "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"
      - "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.1 Safari/605.1.15"
      - "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
    # Optional Accept-Language header
    accept-language: ""
    # Optional locale for browser context
    locale: ""
    # Optional timezone id for browser context
    timezone-id: ""
    # Extra headers for browser context
    extra-headers: {}
    # Proxy settings
    proxy-server: ""
    proxy-username: ""
    proxy-password: ""
    # Min worker count per process
    worker-pool-min-size-per-process: 1
    # Max worker count per process: use code default when omitted
    # worker-pool-max-size-per-process: 4
    # Release worker pool when idle for ttl
    worker-idle-ttl-ms: 60000
    # Wait time to acquire an idle worker
    queue-offer-timeout-ms: 200
    # Refresh snapshot after request
    snapshot-refresh-on-request-end: true
    # Publish lock timeout
    snapshot-publish-lock-timeout-ms: 500
    # profile id validation regex
    profile-id-regex: ^[a-zA-Z0-9._-]{1,64}$
  scrape:
    # Default profile id for scrape requests
    default-profile-id: master
    # Page navigate timeout in ms
    navigate-timeout-ms: 30000
    # Strip chrome tags like header/footer/nav when onlyMainContent is true
    strip-chrome-tags: true
    # Remove embedded base64/data images from markdown
    remove-base64-images: true
    # User data root for manual login mode
    master-user-data-root: ${MMH_SCRAPE_MASTER_USER_DATA_ROOT:${user.home}/.my-mcp-hub/browser-data}
    # Extra args for manual login browser
    # master-login-args: ["--force-device-scale-factor=2", "--lang=zh-CN"]
    # Initial page url for manual login
    # master-login-initial-page-url: https://example.com
    # Refresh interval for manual login (0 means no periodic publish)
    # master-login-refresh-interval-ms: 0
    # Timeout for manual login (0 means no timeout)
    # master-login-timeout-ms: 0
    # Lock timeout for master profile usage
    # master-profile-lock-timeout-ms: 2000
